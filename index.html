<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Obsidian Bridge</title>
</head>
<body>
    <div id="status" style="text-align:center; margin-top:50px; font-family:sans-serif;">
        옵시디언을 호출하고 있습니다...
    </div>

    <script>
        (function() {
            const urlParams = new URLSearchParams(window.location.search);
            const path = urlParams.get('path'); // 전달받은 전체 URI

            if (path) {
                // 변수 path에 담긴 URI를 그대로 사용합니다.
                const obsidianURI = path; 
                
                // 앱 호출
                window.location.href = obsidianURI;

                // 1초 후 창 닫기
                setTimeout(() => {
                    window.close();
                }, 1000);
            } else {
                document.getElementById('status').innerText = "전달된 URI 정보가 없습니다.";
            }
        })();
    </script>
</body>
</html>
